dayData$dayE
dayData[["dayE"]]
dayData[["dayE]]
dayData[[dayE]]
""
dayData[[dayE]]
names(dayData)
dayData
str(dayData)
names(dayData[[3]])
names(dayData)
names(dayData)<-c("dayStart","dayEnd","dayE","dayP","dayQ","initialValue")
names(dayData)<-c("dayStart","dayEnd","dayE","dayP","dayQ","initialValue")
names(dayData)
dayData$dayStart
names(hhData)
?split
?strsplit
hh.names<-strsplit("modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5
,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15",",")
hh.names
hh.names<-strsplit("modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15",",")
hh.names
names(hhData)<-hh.names
names(dayData)<-c("dayStart","dayEnd","dayE","dayP","dayQ","initialValue")
names(hhData[[18]])
names(hhData[[4:18]])<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(hhData[[4:18]])<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
for(i in 4:18){
names(hhData[[i]])<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
}
hhData
floodData15<-list(timeStart,timeEnd,hourE,hourP,hourQ,initialValue)
for(i in 4:18){
names(hhData[[i]])<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
}
hhData
hhData<-list(modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5
,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15)
for(i in 4:18){
names(hhData[[i]])<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
}
hh.names<-strsplit("modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15",",")
names(hhData)<-hh.names
hhData
names(floodData1)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData1)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
hhData<-list(modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5
,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15)
names(floodData1)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData2)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData3)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData4)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData5)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData6)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData7)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData8)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData9)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData10)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData11)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData12)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData13)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData14)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData15)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
hhData<-list(mode
lPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5
,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15)
names(floodData1)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData2)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData3)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData4)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData5)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData6)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData7)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData8)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData9)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData10)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData11)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData12)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData13)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData14)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData15)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
hhData<-list(modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5
,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15)
hh.names<-strsplit("modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15",",")
names(hhData)<-hh.names
names(hhDate)
names(hhData)
hh.names<-strsplit("modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15",",")
hh.names
names(hhData)<-hh.names
names(hhData)
someMatrix=matrix(nrow = 2,ncol = 2)
test(someMatrix)
someMatrix
someMatrix[-1,]
someMatrix<-someMatrix[-1,]
someMatrix
someMatrix=matrix(nrow = 2,ncol = 2)
someMatrix[,-1]
numV<-c(1,2,3,4,4,8,5,5,5)
numV[-1:-5]
?recharts
??recharts
library("recharts", lib.loc="~/R/win-library/3.4")
library(recharts)
showResult<-function(sumResult){
echartObj<-list(
xAxis=list(
type="category",
data=sumResult$Date
)
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
)
series=list(
list(
name= "Qmea",
type ="line"
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line"
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar";
data = sumResult$P,
yAxisIndex = "1"
)
)
)
eplot(echartObj)
}
showResult<-function(sumResult){
echartObj<-list(
xAxis=list(
type="category",
data=sumResult$Date
),
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
),
series=list(
list(
name= "Qmea",
type ="line"
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line"
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar";
data = sumResult$P,
yAxisIndex = "1"
)
)
)
eplot(echartObj)
}
showResult<-function(sumResult){
echartObj<-list(
xAxis=list(
type="category",
data=sumResult$Date
),
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
),
series=list(
list(
name= "Qmea",
type ="line",
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line",
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar",
data = sumResult$P,
yAxisIndex = "1"
)
)
)
eplot(echartObj)
}
View(dayQ)
123hh<-cbind(dayP,dayE)
?cbind
?rbind
hhh123<-cbind(dayP,dayE)
View(hhh123)
hhh123<-cbind(dayP,dayQ)
hhh123<-hhh123[,-3:-11]
showResult(hhh123)
library(recharts)
showResult(hhh123)
?eplot
showResult<-function(sumResult){
echartObj<-list(
xAxis=list(
type="category",
data=sumResult$Date
),
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
),
series=list(
list(
name= "Qmea",
type ="line",
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line",
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar",
data = sumResult$P,
yAxisIndex = "1"
)
)
)
ePlot(echartObj)
}
showResult(hhh123)
?ePlot
showResult<-function(sumResult){
ext<-list(
xAxis=list(
type="category",
data=sumResult$Date
),
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
)
)
series<-list(
list(
name= "Qmea",
type ="line",
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line",
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar",
data = sumResult$P,
yAxisIndex = "1"
)
)
)
ePlot(series,ext)
}
showResult<-function(sumResult){
ext<-list(
xAxis=list(
type="category",
data=sumResult$Date
),
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
)
)
series<-list(
list(
name= "Qmea",
type ="line",
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line",
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar",
data = sumResult$P,
yAxisIndex = "1"
)
)
ePlot(series,ext)
}
showResult(hhh123)
names(hhh123)<-c("Date","P","Qmea","Qcal")
showResult(hhh123)
read(hhData)
changeModelParameter<-function(modelIndex,paraIndex,value){
}
changeModelParameter<-function(modelIndex,parameter){
}
changeModelParameter(1,1,1)
?function
?function
??function
function()
View(modelPapameter)
?stopifnot
changeModelParameter<-function(parameterValue,paraIndex,value){
if (length(parameterValue)!= 17){
stop("The parameterValue is not correct!!")
}
if (!is.numeric(value)){
stop("The value should be numeric!")
}
for(i in 1:length(parameterValue)){
if(rownames(parameterValue)[i]==paraIndex){
funFlag = TRUE
parameterValue[i]<-value
}
}
if(funFlag ==FALSE){
stop("The paraIndex is not correct,please check the uppercase!")
}
}
changeModelParameter<-function(parameterValue,paraIndex,value){
if (length(parameterValue)!= 17){
stop("The parameterValue is not correct!!")
}
if (!is.numeric(value)){
stop("The value should be numeric!")
}
for(i in 1:length(parameterValue)){
if(rownames(parameterValue)[i]==paraIndex){
funFlag = TRUE
parameterValue[i]<-value
}
}
if(funFlag ==FALSE){
stop("The paraIndex is not correct,please check the uppercase!")
}
return(parameterValue)
}
changeModelParameter(parameterValue = hhData[[1]]$dayParameterValue,paraIndex = "CS",value = 0.25)
parameterValue = hhData[[1]]$dayParameterValue
hhData[[1]]$dayParameterValue
changeModelParameter<-function(parameterValue,paraIndex,value){
parameterName<-c("KC","UM","LM","C","WM","B","IM","SM","EX","KG","KI","CI","CG","CS","L","KE","XE")
if (length(parameterValue)!= 17){
stop("The parameterValue is not correct!!")
}
if (!is.numeric(value)){
stop("The value should be numeric!")
}
for(i in 1:length(parameterValue)){
if(parameterName[i]==paraIndex){
funFlag = TRUE
parameterValue[i]<-value
}
}
if(funFlag ==FALSE){
stop("The paraIndex is not correct,please check the uppercase!")
}
return(parameterValue)
}
changeModelParameter(parameterValue = hhData[[1]]$dayParameterValue,paraIndex = "CS",value = 0.25)
changeModelParameter(parameterValue = hhData[[1]]$dayParameterValue,paraIndex = "Cs",value = 0.25)
changeModelParameter<-function(parameterValue,paraIndex,value){
parameterName<-c("KC","UM","LM","C","WM","B","IM","SM","EX","KG","KI","CI","CG","CS","L","KE","XE")
funFlag = FALSE
if (length(parameterValue)!= 17){
stop("The parameterValue is not correct!!")
}
if (!is.numeric(value)){
stop("The value should be numeric!")
}
for(i in 1:length(parameterValue)){
if(parameterName[i]==paraIndex){
funFlag = TRUE
parameterValue[i]<-value
}
}
if(funFlag ==FALSE){
stop("The paraIndex is not correct,please check the uppercase!")
}
return(parameterValue)
}
changeModelParameter(parameterValue = hhData[[1]]$dayParameterValue,paraIndex = "Cs",value = 0.25)
?stop
tst2 <- function(...) stop("dummy error", call. = FALSE)
try(tst2(1:10, longcalling, expression, but.not.seen.in.Error))
iter <- 12
try(if(iter > 10) stop("too many iterations"))
changeModelParameter(parameterValue = hhData[[1]]$dayParameterValue,paraIndex = "Cs",value = 0.25)
changeModelParameter(parameterValue = hhData[[1]]$dayParameterValue,paraIndex = "CS",value = 0.25)
names(hhData)
hh.names<-strsplit("modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15",",")
names(hhData)<-hh.names
names(hhData)
str(hh.names)
hh.names
class(hh.names)
names(hhData)<-hh.names[[1]]
names(hhData)
hhData$modelPapameter
hhData$dayData$dayStart
library(lubridate)
ymd(hhData$dayData$dayStart)
hhData$dayData$dayStart<-ymd(hhData$dayData$dayStart)
hhData$dayData$dayStart
ymd_hms(hhData$floodData1$timeStart)
hhData$floodData1$timeStart
hhData[[4]]$initialValue
for(i in 4:18){
hhData[[i]]$timeStart<-ymd_hms(hhData[[i]]$timeStart)
hhData[[i]]$timeEnd<-ymd_hms(hhData[[i]]$timeEnd)
hhData[[i]]$hourE$YMDHM<-ymd_hms(hhData[[i]]$hourE$YMDHM)
hhData[[i]]$hourP$YMDHM<-ymd_hms(hhData[[i]]$hourP$YMDHM)
hhData[[i]]$hourQ$YMDHM<-ymd_hms(hhData[[i]]$hourQ$YMDHM)
}
hhData[[15]]$hourE
hhData$dayData$dayE
hhData$dayData$dayE$Date
hhData$floodData1$timeStart
hhData$floodData1$hourE$YMDHM
hhData[[3]]$dayStart<-ymd(hhData[[3]]$dayStart)
hhData[[3]]$dayEnd<-ymd(hhData[[3]]$dayEnd)
hhData[[3]]$dayE$Date<-ymd(hhData[[3]]$dayE$Date)
hhData[[3]]$dayP$Date<-ymd(hhData[[3]]$dayP$Date)
hhData[[3]]$dayQ$Date<-ymd(hhData[[3]]$dayQ$Date)
hhData[[3]]$dayQ$Date
hhData[[3]]$dayE$Date
hhData[[3]]$dayEnd
setwd("E:/RXAJ/RXAJ/src")
save(hhData,file = "hhData")
?load
load(dayReasult)
View(modelPapameter)
hhData$basinInfo
hhData
hhData$dayData
hhData$floodData1
?difftime
floodData$initialValue$WU<-dayResult$outWu[numDiff,]
