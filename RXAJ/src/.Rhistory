sumResultBalance<-dayP
sumResultBalance$Date<-year(sumResultBalance$Date)
library(reshape2)
dcast(sumResultBalance,Date~stationP1+stationP2+stationP3+stationP4+stationP5+stationP6+stationP7+stationP8+stationP9,mean)
sum1<-dcast(sumResultBalance,Date~stationP1+stationP2+stationP3+stationP4+stationP5+stationP6+stationP7+stationP8+stationP9,mean)
View(sum1)
sum1<-dcast(sumResultBalance,Date+stationP1+stationP2+stationP3+stationP4+stationP5+stationP6+stationP7+stationP8+stationP9~,mean)
sum1<-melt(sumResultBalance,id=c("Date"))
sum1<-dcast(sumResultBalance,Date~variable,mean)
sum1<-dcast(sum1,Date~variable,mean)
substitute()
?subset
??lubridate
View(dayP)
?subset
subset(dayP,select ="Date",2013)
subset(dayP,select ="Date",subset = "2013-1-1")
subset(dayP,select ="Date",subset =c(1,2))
subset(dayP,Date="2013-1-1")
clear
cls
clean
subset(dayP,Date="2003-1-1")
suu<-subset(dayP,dayP$Date="2003-1-2")
suu<-subset(dayP,Date="2003-1-2")
View(suu)
initW<-basinData["initialValue"][1,1]+basinData["initialValue"][1,2]+basinData["initialValue"][1,3]
basinData
initialValue<-basinData["initialValue"]
initialW<-initialValue[1:3,]
initialValue
basinData
str(basinData)
class(basinData)
initialValue<-basinData[[6]]
initialW<-initialValue[1:3,]
initialW
sum(initialQ)
sum(initialW)
initialW<-sum(initialValue[1:3,])/ncol(initialValue)
initialW
outW<-data.frame(sumResult$Date,dayP$stationP1,flag)
outW<-data.frame(dayP$Date,dayP$stationP1,flag)
flag<-rep(0,times= nrow(dayP))
outW<-data.frame(dayP$Date,dayP$stationP1,flag)
outW$Date<-year(outW$Date)
outW$flag[nrow(suResult)]<-1
for(i in 1:nrow(outW)-1)  {
if((outW$Date[i+1]-outW$Date[i])==1) outW$flag<-1
}
outW<-subset(outW,flag ="1")
flag<-rep(0,times= nrow(dayP))
outW<-data.frame(dayP$Date,dayP$stationP1,flag)
outW$Date<-year(outW$Date)
outW$flag[nrow(dayP)]<-0
for(i in 1:nrow(outW)-1)  {
if((outW$Date[i+1]-outW$Date[i])==1) outW$flag<-1
}
outW<-subset(outW,flag ="1")
outW$Date<-year(outW$Date)
outW
outW[,1]<-year(outW[,1])
View(outW)
outW$flag[nrow(dayP)]<-0
for(i in 1:nrow(outW)-1)  {
if((outW$Date[i+1]-outW$Date[i])==1) outW$flag<-1
}
outW<-subset(outW,flag ="1")
flag<-rep(0,times= nrow(dayP))
outW<-data.frame(dayP$Date,dayP$stationP1,flag)
outW[,1]<-year(outW[,1])
outW$flag[nrow(dayP)]<-0
for(i in 1:nrow(outW)-1)  {
if((outW[i+1,1]-outW$Date[i,1])==1) outW$flag<-1
}
outW<-subset(outW,flag ="1")
for(i in 1:nrow(outW)-1)  {
if((outW[i+1,1]-outW[i,1])==1) outW$flag<-1
}
for(i in 1:nrow(outW)-1)  {
if((outW[i+1,1]-outW[i,1])=1) outW$flag<-1
}
for(i in 1:nrow(outW)-1)  {
if((outW[i+1,1]-outW[i,1])=1) outW$flag<-1
}
for(i in 1:nrow(outW)-1)  {
if((outW[i+1,1]-outW[i,1])=1) {
outW$flag<-1
}
}
for(i in 1:nrow(outW)-1)  {
if((outW[i+1,1]-outW[i,1])=1) {
outW$flag[i]<-1
}
}
for(i in 1:nrow(outW)-1)  {
if((outW[i+1,1]-outW[i,1])==1) {
outW$flag[i]<-1
}
}
outW[2,1]-outW[3,1]
nrow(outW)
for(i in 1:(nrow(outW)-1))  {
if((outW[i+1,1]-outW[i,1])==1) {
outW$flag[i]<-1
}
}
outW<-subset(outW,flag ="1")
initialValue<-basinData[[6]]
initialW<-sum(initialValue[1:3,])/ncol(initialValue)
#flag<-rep(0,times= nrow(sumResult))
##outW<-data.frame(sumResult$Date,dayResult["outW"],flag)
flag<-rep(0,times= nrow(dayP))
outW<-data.frame(dayP$Date,dayP$stationP1,flag)
outW[,1]<-year(outW[,1])
outW$flag[nrow(dayP)]<-1
for(i in 1:(nrow(outW)-1))  {
if((outW[i+1,1]-outW[i,1])==1) {
outW$flag[i]<-1
}
}
outW<-subset(outW,flag ="1")
outW<-subset(outW,flag =1)
?subset.data.frame
outW<-subset(outW,flag ==1)
outWW<-outW[,2]
outWW[2:nrow(outWW),1]<-outW[1:(nrow(outW)-1),2]
View(outW)
outWW<-outW[,2]
outWW
basinData["dayE"]
dayData
dayData["dayE"]
dayData$dayE
dayData[["dayE"]]
dayData[["dayE]]
dayData[[dayE]]
""
dayData[[dayE]]
names(dayData)
dayData
str(dayData)
names(dayData[[3]])
names(dayData)
names(dayData)<-c("dayStart","dayEnd","dayE","dayP","dayQ","initialValue")
names(dayData)<-c("dayStart","dayEnd","dayE","dayP","dayQ","initialValue")
names(dayData)
dayData$dayStart
names(hhData)
?split
?strsplit
hh.names<-strsplit("modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5
,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15",",")
hh.names
hh.names<-strsplit("modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15",",")
hh.names
names(hhData)<-hh.names
names(dayData)<-c("dayStart","dayEnd","dayE","dayP","dayQ","initialValue")
names(hhData[[18]])
names(hhData[[4:18]])<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(hhData[[4:18]])<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
for(i in 4:18){
names(hhData[[i]])<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
}
hhData
floodData15<-list(timeStart,timeEnd,hourE,hourP,hourQ,initialValue)
for(i in 4:18){
names(hhData[[i]])<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
}
hhData
hhData<-list(modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5
,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15)
for(i in 4:18){
names(hhData[[i]])<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
}
hh.names<-strsplit("modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15",",")
names(hhData)<-hh.names
hhData
names(floodData1)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData1)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
hhData<-list(modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5
,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15)
names(floodData1)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData2)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData3)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData4)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData5)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData6)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData7)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData8)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData9)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData10)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData11)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData12)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData13)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData14)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData15)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
hhData<-list(mode
lPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5
,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15)
names(floodData1)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData2)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData3)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData4)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData5)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData6)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData7)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData8)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData9)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData10)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData11)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData12)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData13)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData14)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
names(floodData15)<-c("timeStart","timeEnd","hourE","hourP","hourQ","initialValue")
hhData<-list(modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5
,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15)
hh.names<-strsplit("modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15",",")
names(hhData)<-hh.names
names(hhDate)
names(hhData)
hh.names<-strsplit("modelPapameter,basinInfo,dayData,floodData1,floodData2,floodData3,floodData4,floodData5,floodData6,floodData7,floodData8,floodData9,floodData10,floodData11,floodData12,floodData13,floodData14,floodData15",",")
hh.names
names(hhData)<-hh.names
names(hhData)
someMatrix=matrix(nrow = 2,ncol = 2)
test(someMatrix)
someMatrix
someMatrix[-1,]
someMatrix<-someMatrix[-1,]
someMatrix
someMatrix=matrix(nrow = 2,ncol = 2)
someMatrix[,-1]
numV<-c(1,2,3,4,4,8,5,5,5)
numV[-1:-5]
?recharts
??recharts
library("recharts", lib.loc="~/R/win-library/3.4")
library(recharts)
showResult<-function(sumResult){
echartObj<-list(
xAxis=list(
type="category",
data=sumResult$Date
)
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
)
series=list(
list(
name= "Qmea",
type ="line"
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line"
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar";
data = sumResult$P,
yAxisIndex = "1"
)
)
)
eplot(echartObj)
}
showResult<-function(sumResult){
echartObj<-list(
xAxis=list(
type="category",
data=sumResult$Date
),
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
),
series=list(
list(
name= "Qmea",
type ="line"
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line"
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar";
data = sumResult$P,
yAxisIndex = "1"
)
)
)
eplot(echartObj)
}
showResult<-function(sumResult){
echartObj<-list(
xAxis=list(
type="category",
data=sumResult$Date
),
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
),
series=list(
list(
name= "Qmea",
type ="line",
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line",
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar",
data = sumResult$P,
yAxisIndex = "1"
)
)
)
eplot(echartObj)
}
View(dayQ)
123hh<-cbind(dayP,dayE)
?cbind
?rbind
hhh123<-cbind(dayP,dayE)
View(hhh123)
hhh123<-cbind(dayP,dayQ)
hhh123<-hhh123[,-3:-11]
showResult(hhh123)
library(recharts)
showResult(hhh123)
?eplot
showResult<-function(sumResult){
echartObj<-list(
xAxis=list(
type="category",
data=sumResult$Date
),
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
),
series=list(
list(
name= "Qmea",
type ="line",
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line",
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar",
data = sumResult$P,
yAxisIndex = "1"
)
)
)
ePlot(echartObj)
}
showResult(hhh123)
?ePlot
showResult<-function(sumResult){
ext<-list(
xAxis=list(
type="category",
data=sumResult$Date
),
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
)
)
series<-list(
list(
name= "Qmea",
type ="line",
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line",
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar",
data = sumResult$P,
yAxisIndex = "1"
)
)
)
ePlot(series,ext)
}
showResult<-function(sumResult){
ext<-list(
xAxis=list(
type="category",
data=sumResult$Date
),
yAxis=list(
list(
type ="value",
name="流量(m3·s-1)"
),
list(
type = "value",
name = "降雨量(mm)",
inverse="true"
)
)
)
series<-list(
list(
name= "Qmea",
type ="line",
data = sumResult$Qmea,
yAxisIndex = "0"
),
list(
name= "Qcal",
type ="line",
data = sumResult$Qcal,
yAxisIndex = "0"
),
list(
name = "precipitation",
type="bar",
data = sumResult$P,
yAxisIndex = "1"
)
)
ePlot(series,ext)
}
showResult(hhh123)
names(hhh123)<-c("Date","P","Qmea","Qcal")
showResult(hhh123)
library(reshape2)
library(lubridate)
library(recharts)
showResult(hhh123)
View(hhh123)
hhh123 $Date
initialValue
setwd("E:/RXAJ/RXAJ/src")
setwd("E:/RXAJ/RXAJ/src")
library(Rcpp)
sourceCpp("dXAJ.cpp")
sourceCpp("dXAJ.cpp")
sourceCpp("dXAJ.cpp")
sourceCpp("dXAJ.cpp")
sourceCpp("dXAJ.cpp")
